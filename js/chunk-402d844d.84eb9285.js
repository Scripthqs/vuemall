(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-402d844d"],{"159b":function(t,e,a){var r=a("da84"),n=a("fdbc"),o=a("17c2"),c=a("9112");for(var i in n){var s=r[i],l=s&&s.prototype;if(l&&l.forEach!==o)try{c(l,"forEach",o)}catch(u){l.forEach=o}}},"17c2":function(t,e,a){"use strict";var r=a("b727").forEach,n=a("a640"),o=n("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"2f86":function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,".content-category[data-v-28832dc2]{display:flex;flex-wrap:wrap;padding:1.5625vw;justify-content:space-between}.content-category-item[data-v-28832dc2]{display:block;width:20.3125vw;text-align:center;font-size:3.75vw;margin:.9375vw}.content-category-item img[data-v-28832dc2]{width:70%;display:block;margin:0 auto}.content-category-item span[data-v-28832dc2]{display:inline-block;margin:1.5625vw 0}",""]),t.exports=e},"37a2":function(t,e,a){"use strict";a("3c69")},"3c69":function(t,e,a){var r=a("6074");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=a("499e").default;n("34984d40",r,!0,{sourceMap:!1,shadowMode:!1})},"456c":function(t,e,a){var r=a("d465");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=a("499e").default;n("579b9294",r,!0,{sourceMap:!1,shadowMode:!1})},"4de4":function(t,e,a){"use strict";var r=a("23e7"),n=a("b727").filter,o=a("1dde"),c=o("filter");r({target:"Array",proto:!0,forced:!c},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));a("b64b"),a("a4d3"),a("4de4"),a("e439"),a("159b"),a("dbb4");var r=a("ade3");function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},6074:function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,".category[data-v-55cf5c8c]{width:100vw;height:100vh;position:relative}.nav-bar[data-v-55cf5c8c]{background-color:var(--color-tint);color:#fff}.content[data-v-55cf5c8c]{position:absolute;left:0;right:0;top:13.75vw;bottom:15.3125vw;overflow:hidden;display:flex}.menu-left[data-v-55cf5c8c]{padding:1.5625vw 0;height:100%}.content-right[data-v-55cf5c8c]{height:100%;margin:1.5625vw;flex:1}",""]),t.exports=e},"78a0":function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,".tab-control[data-v-a0420546]{z-index:99;display:flex;text-align:center;font-size:4.6875vw;height:12.5vw;line-height:12.5vw}.tab-control-item[data-v-a0420546]{flex:1;background-color:#fff}.tab-control-item span[data-v-a0420546]{padding:.9375vw}.active[data-v-a0420546]{color:var(--color-high-text)}.active span[data-v-a0420546]{border-bottom:var(--color-high-text) .9375vw solid}",""]),t.exports=e},"7d38":function(t,e,a){var r=a("78a0");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=a("499e").default;n("463bd5a4",r,!0,{sourceMap:!1,shadowMode:!1})},"9bd0":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-control"},t._l(t.titles,(function(e,r){return a("div",{key:e,staticClass:"tab-control-item",class:{active:r===t.currentIndex},on:{click:function(e){return t.itemClick(r)}}},[a("span",[t._v(t._s(e))])])})),0)},n=[],o={name:"TabControl",props:{titles:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{itemClick:function(t){this.currentIndex!=t&&(this.currentIndex=t,this.$emit("tabClick",t))}}},c=o,i=(a("df9e"),a("2877")),s=Object(i["a"])(c,r,n,!1,null,"a0420546",null);e["a"]=s.exports},a640:function(t,e,a){"use strict";var r=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&r((function(){a.call(null,e||function(){throw 1},1)}))}},a92d:function(t,e,a){"use strict";a("b343")},ade3:function(t,e,a){"use strict";function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"a",(function(){return r}))},b343:function(t,e,a){var r=a("2f86");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var n=a("499e").default;n("81adb99a",r,!0,{sourceMap:!1,shadowMode:!1})},b64b:function(t,e,a){var r=a("23e7"),n=a("7b0b"),o=a("df75"),c=a("d039"),i=c((function(){o(1)}));r({target:"Object",stat:!0,forced:i},{keys:function(t){return o(n(t))}})},bb51:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category"},[a("nav-bar",{staticClass:"nav-bar"},[a("div",{attrs:{slot:"center"},slot:"center"},[a("span",[t._v("商品分类")])])]),a("div",{staticClass:"content"},[a("scroll",{staticClass:"menu-left"},[a("category-menu",{attrs:{detailMenu:t.categories},on:{menuClick:t.menuClick}})],1),a("scroll",{ref:"rightScroll",staticClass:"content-right",attrs:{probeType:3},on:{scroll:t.contentScroll}},[a("tab-content-category",{attrs:{showDetailCategory:t.showDetailCategory}}),a("tab-control",{ref:"tabControl",attrs:{titles:["综合","新款","销量"]},on:{tabClick:t.tabClick}}),a("goods-list",{attrs:{goods:t.showDetails}})],1)],1),a("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isBackTopShow,expression:"isBackTopShow"}],nativeOn:{click:function(e){return t.backTopClick.apply(null,arguments)}}})],1)},n=[],o=a("5530"),c=a("a7ac"),i=a("6d71"),s=a("9bd0"),l=a("fdd6"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category-menu"},t._l(t.detailMenu,(function(e,r){return a("ul",{key:r,staticClass:"menu"},[a("li",{staticClass:"menu-item",class:{active:r===t.currentIndex},on:{click:function(e){return t.itemClick(r)}}},[t._v(" "+t._s(e.title)+" ")])])})),0)},f=[],d={name:"CategoryMenu",data:function(){return{currentIndex:0}},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("menuClick",t)}},props:{detailMenu:{type:Array,default:function(){return[]}}}},h=d,g=(a("f205"),a("2877")),v=Object(g["a"])(h,u,f,!1,null,"6a6f2240",null),p=v.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-category"},t._l(t.showDetailCategory,(function(e,r){return a("a",{key:r,staticClass:"content-category-item",attrs:{href:e.link}},[a("img",{attrs:{src:e.image,alt:"图片"}}),a("span",[t._v(t._s(e.title))])])})),0)},y=[],m={name:"TabContentCategory",props:{showDetailCategory:{type:Array,default:function(){return[]}}}},w=m,x=(a("a92d"),Object(g["a"])(w,b,y,!1,null,"28832dc2",null)),C=x.exports,k=a("1bab");function D(){return Object(k["a"])({url:"/category"})}function _(t){return Object(k["a"])({url:"/subcategory",params:{maitKey:t}})}function O(t,e){return Object(k["a"])({url:"/subcategory/detail",params:{miniWallkey:t,type:e}})}var I=a("90b9"),j={name:"Category",components:{NavBar:c["a"],CategoryMenu:p,TabContentCategory:C,GoodsList:i["a"],TabControl:s["a"],BackTop:l["a"]},data:function(){return{categories:[],categoryData:[],menuIndex:0,rightRefresh:null,isBackTopShow:!1}},methods:{_getCategory:function(){var t=this;D().then((function(e){for(var a in t.categories=e.data.category.list,t.categories)t.categories[a].saveY=0,t.categoryData[a]={subcategories:[],categoryDetail:{currentTypeIndex:0,pop:[],new:[],sell:[]}},t._getSubcategory(a);t._getCategoryDetail(0,"pop"),t._getCategoryDetail(0,"new"),t._getCategoryDetail(0,"sell")}))},_getSubcategory:function(t){var e=this;_(this.categories[t].maitKey).then((function(a){e.categoryData[t].subcategories=a.data.list}))},_getCategoryDetail:function(t,e){var a=this;O(this.categories[t].miniWallkey,e).then((function(r){a.categoryData[t].categoryDetail[e]=r,a.categoryData=Object(o["a"])({},a.categoryData)}))},menuClick:function(t){this._getCategoryDetail(t,"pop"),this._getCategoryDetail(t,"new"),this._getCategoryDetail(t,"sell"),this.menuIndex=t,this.$refs.tabControl.currentIndex=this.categoryData[this.menuIndex].categoryDetail.currentTypeIndex,this.categories[this.menuIndex]?(this.$refs.rightScroll.refresh(),this.$refs.rightScroll.scrollTo(0,this.categories[this.menuIndex].saveY,0)):(this.$refs.rightScroll.refresh(),this.$refs.rightScroll.scrollTo(0,0,0))},tabClick:function(t){this.categoryData[this.menuIndex].categoryDetail.currentTypeIndex=t},backTopClick:function(){this.$refs.rightScroll.scrollTo(0,0,500)},contentScroll:function(t){var e=t.y;this.isBackTopShow=e<-900,this.categories[this.menuIndex]&&(this.categories[this.menuIndex].saveY=e)}},computed:{currentTab:function(){if(!this.categoryData[this.menuIndex])return"";switch(this.categoryData[this.menuIndex].categoryDetail.currentTypeIndex){case 0:return"pop";case 1:return"new";case 2:return"sell"}},showDetailCategory:function(){return this.categories[this.menuIndex]?this.categoryData[this.menuIndex].subcategories:[]},showDetails:function(){return this.categoryData[this.menuIndex]?this.categoryData[this.menuIndex].categoryDetail[this.currentTab]:[]}},created:function(){this._getCategory()},mounted:function(){var t=this;this.rightRefresh=Object(I["a"])(this.$refs.rightScroll.refresh,50),this.$bus.$on("categoryImgLoad",(function(){t.rightRefresh()}))}},T=j,M=(a("37a2"),Object(g["a"])(T,r,n,!1,null,"55cf5c8c",null));e["default"]=M.exports},d465:function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,".category-menu[data-v-6a6f2240]{width:25vw;background-color:#f6f6f6;font-size:4.375vw}.menu[data-v-6a6f2240]{width:100%;text-align:center}.menu-item[data-v-6a6f2240]{height:14.0625vw;line-height:14.0625vw;border-left:.9375vw solid transparent}.active[data-v-6a6f2240]{border-left:.9375vw var(--color-high-text) solid;font-weight:700;background-color:#fff}",""]),t.exports=e},dbb4:function(t,e,a){var r=a("23e7"),n=a("83ab"),o=a("56ef"),c=a("fc6a"),i=a("06cf"),s=a("8418");r({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,a,r=c(t),n=i.f,l=o(r),u={},f=0;while(l.length>f)a=n(r,e=l[f++]),void 0!==a&&s(u,e,a);return u}})},df9e:function(t,e,a){"use strict";a("7d38")},e439:function(t,e,a){var r=a("23e7"),n=a("d039"),o=a("fc6a"),c=a("06cf").f,i=a("83ab"),s=n((function(){c(1)})),l=!i||s;r({target:"Object",stat:!0,forced:l,sham:!i},{getOwnPropertyDescriptor:function(t,e){return c(o(t),e)}})},f205:function(t,e,a){"use strict";a("456c")}}]);
//# sourceMappingURL=chunk-402d844d.84eb9285.js.map